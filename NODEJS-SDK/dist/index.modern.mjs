import{WebSocketServer as e}from"ws";import o from"fs";class n{serverConnection(){new e({port:8081}).on("connection",e=>{e.on("message",o=>{console.log(`Received from client â€º ${o}`),this.writeToFile(`RECV: ${o}\n`);const n=`Current time is ${Date.now()}`;e.send(`${n}\n`),this.writeToFile(`SEND: ${n}\n`)}),e.send("Some message from the server.")}),console.log("Listening at 8081...")}writeToFile(e){o.appendFile("log.txt",`${e}\n`,()=>{console.log("WRITE IN FILE")})}}export{n as default};
